webpackJsonp([9],{"49wg":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("WhIQ"),a=i("vNn7"),n=i("VU/8")(s.a,a.a,!1,null,null,null);n.options.__file="pages\\admin\\tags.vue",e.default=n.exports},WhIQ:function(t,e,i){"use strict";e.a={middleware:"auth",data:function(){return{tag:{},tags:[],isEdit:!1}},mounted:function(){var t=this;this.$store.dispatch("TAGS").then(function(e){t.tags=e.data})},head:function(){return{title:"修改标签 - "+this.$store.state.user.nickname}},methods:{delTag:function(t){var e=this;this.$store.dispatch("DELETE_TAG",t.id).then(function(t){t.success&&(e.$refs.tip.openTip("标签删除完成"),e.$store.dispatch("TAGS").then(function(t){e.tags=t.data}))})},editTag:function(t){this.isEdit=!0,this.tag=t},edit:function(){var t=this;this.isEdit=!1,this.$store.dispatch("UPDATE_TAG",this.tag).then(function(e){e.success&&(t.$refs.tip.openTip("标签更新完成"),t.$store.dispatch("TAGS").then(function(e){t.tags=e.data}))})}}}},vNn7:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"admin-tags"},[t.isEdit?i("div",{staticClass:"tags-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tag.name,expression:"tag.name"}],attrs:{type:"text"},domProps:{value:t.tag.name},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.edit(e):null},input:function(e){e.target.composing||t.$set(t.tag,"name",e.target.value)}}}),i("button",{staticClass:"black-button",on:{click:t.edit}},[t._v("确认修改")])]):t._e(),i("ul",{staticClass:"tags-list"},t._l(t.tags,function(e,s){return i("li",{key:s,staticClass:"list-item"},[i("p",{staticClass:"item-title"},[i("nuxt-link",{attrs:{to:"/tags/"+e.id}},[t._v(t._s(e.name))])],1),i("p",{staticClass:"item-date"},[t._v(t._s(t._f("formatDate")(e.updatedAt,"yyyy-MM-dd")))]),i("p",{staticClass:"item-del"},[i("a",{on:{click:function(i){t.delTag(e)}}},[t._v("删除")])]),i("p",{staticClass:"item-edit"},[i("a",{on:{click:function(i){t.editTag(e)}}},[t._v("编辑")])])])})),i("top-tip",{ref:"tip"})],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};e.a=a}});