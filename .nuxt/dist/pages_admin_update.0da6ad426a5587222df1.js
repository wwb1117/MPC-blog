webpackJsonp([8],{"1Dde":function(e,t,s){"use strict";t.a={middleware:"auth",data:function(){return{oldPassword:"",newPassword:"",vertifyPassword:"",user:{}}},mounted:function(){var e=this;this.$store.dispatch("ADMIN_INFO").then(function(t){e.user=t.data})},head:function(){return{title:"修改信息 - "+this.$store.state.user.nickname}},methods:{updateInfo:function(){var e=this;this.$store.dispatch("UPDATE_ADMIN",this.user).then(function(t){t.success&&e.$refs.tip.openTip("信息修改完成")})},updatePassword:function(){var e=this;return!!(this.oldPassword&&this.newPassword&&this.vertifyPassword)&&(this.newPassword!==this.vertifyPassword?(this.$refs.tip.openTip("两次密码不一致！"),!1):void this.$store.dispatch("UPDATE_ADMIN",{oldPassword:this.oldPassword,newPassword:this.newPassword}).then(function(t){t.success&&(e.$refs.tip.openTip("密码重置完成"),e.$store.dispatch("LOGOUT").then(function(t){t.success&&(e.$store.state.token="",e.$router.push("/login"))}))}))}}}},QCCs:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("1Dde"),a=s("qg0B"),r=s("VU/8")(o.a,a.a,!1,null,null,null);r.options.__file="pages\\admin\\update.vue",t.default=r.exports},qg0B:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"admin-update"},[s("div",{staticClass:"update-info"},[s("h4",[e._v("修改个人信息")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.nickname,expression:"user.nickname"}],attrs:{type:"text"},domProps:{value:e.user.nickname},on:{input:function(t){t.target.composing||e.$set(e.user,"nickname",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.motto,expression:"user.motto"}],attrs:{type:"text"},domProps:{value:e.user.motto},on:{input:function(t){t.target.composing||e.$set(e.user,"motto",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),s("button",{on:{click:e.updateInfo}},[e._v("确认修改")])]),s("div",{staticClass:"update-password"},[s("h4",[e._v("修改密码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],attrs:{type:"password",placeholder:"输入旧密码"},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{type:"password",placeholder:"输入新密码"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.vertifyPassword,expression:"vertifyPassword"}],attrs:{type:"password",placeholder:"再次输入新密码"},domProps:{value:e.vertifyPassword},on:{input:function(t){t.target.composing||(e.vertifyPassword=t.target.value)}}}),s("button",{on:{click:e.updatePassword}},[e._v("确认修改")])]),s("top-tip",{ref:"tip"})],1)};o._withStripped=!0;var a={render:o,staticRenderFns:[]};t.a=a}});